import{a as x,u as j,b as y,r as e,j as s}from"./index-Cu9Ne-uY.js";import{M as E}from"./Modal-B0tWQP0I.js";import{c as F,d as M}from"./catApi-Bkpp4f2E.js";import{I as S}from"./ImageGallery-CZGbKIl7.js";import{a as C}from"./parsers-Cp_Y0xt0.js";function D(){const a=x(),n=j(),{breedId:o}=y(),[f,g]=e.useState([]),[b,d]=e.useState(!0),[i,p]=e.useState(null),[c,l]=e.useState(null),h=e.useCallback(()=>n("/breeds"),[n]),m=e.useCallback(()=>{const r=typeof a.state=="object"&&a.state&&"breed"in a.state?a.state.breed:void 0;if(r)try{l(C(r))}catch{console.error("Invalid state data:")}},[a.state]),u=e.useCallback(async r=>{try{const t=await F(r);l(t)}catch(t){console.error("Failed to fetch image:",t),p("Failed to load image")}},[]);e.useEffect(()=>{o&&(d(!0),m(),o&&(B(o),u(o)),d(!1))},[o,u,m]);const B=async r=>{try{const t=await M(r,10);g(t)}catch(t){console.error(t)}},I=()=>{h()},v=e.useMemo(()=>i??!c?"Error loading breed":void 0,[i,c]);return s.jsx(E,{onClose:I,isLoading:b,error:v,children:c&&s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:c.name}),s.jsx("p",{children:c.description}),s.jsx(S,{images:f})]})})}export{D as default};
